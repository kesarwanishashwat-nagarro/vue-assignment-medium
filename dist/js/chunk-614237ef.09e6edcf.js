(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-614237ef"],{"11f8":function(t,e,s){"use strict";var a=s("6df7"),i=s.n(a);i.a},1399:function(t,e,s){"use strict";var a=s("39da"),i=s.n(a);i.a},2704:function(t,e,s){"use strict";var a=s("88b1"),i=s.n(a);i.a},"39da":function(t,e,s){},"3ad6":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"article-page"},[s("HeadingBar",{attrs:{title:t.article?t.article.title:"",backColor:"linear-gradient(45deg, black, transparent)"}}),s("div",{staticClass:"container article-container"},[s("div",{staticClass:"top-container"},[s("div",{staticClass:"user-image"},[s("img",{attrs:{src:t.article?t.article.author.image:"",alt:"author image",height:"100%",width:"100%"}})]),s("div",{staticClass:"title-text"},[s("p",[t._v(t._s(t.article?t.article.author.username:""))]),s("p",[t._v(t._s(t.article?t.article.createdAt:""))])]),t.article&&t.article.author.username===t.currentUser?s("div",{staticClass:"article-options",on:{click:t.navigateEditor}},[t._v("Edit Article")]):t._e(),t.article&&t.article.author.username===t.currentUser?s("div",{staticClass:"article-options delete",on:{click:t.deleteArticle}},[t._v("Delete Article")]):t._e(),t.article&&t.article.author.username!==t.currentUser?s("div",{staticClass:"article-options favorite",class:{favorite:t.article&&!t.article.favorited,unfavorite:t.article&&t.article.favorited},on:{click:t.toggleFavorite}},[t._v(t._s(t.article&&t.article.favorited?"Unfavorite":"Favorite")+" Article("+t._s(t.article?t.article.favoritesCount:0)+")")]):t._e()]),s("div",{staticClass:"desc-text"},[s("p",[t._v(t._s(t.article?t.article.body:""))])]),s("ul",{staticClass:"tag-items"},t._l(t.tags,(function(e){return s("li",{key:e,staticClass:"tag-item"},[t._v(t._s(e))])})),0),s("div",{staticClass:"comments"},[t.isAuthenticated?s("CommentForm",{on:{onCommentSubmit:function(e){return t.addComment(e)}}}):t._e(),t.isAuthenticated?t._e():s("p",[s("router-link",{staticClass:"highlight",attrs:{to:"/login"}},[t._v("Sign in")]),t._v(" or\n        "),s("router-link",{staticClass:"highlight",attrs:{to:"/register"}},[t._v("Sign up")]),t._v(" to add comments on this article.\n      ")],1),s("div",{staticClass:"comment-list"},t._l(t.comments,(function(e){return s("CommentItem",{key:e.id,attrs:{comment:e},on:{trashClick:t.deleteComment}})})),1)],1)])],1)},i=[],r=s("4529"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"card comment-form",on:{submit:function(e){return e.preventDefault(),t.submitComment()}}},[s("div",{staticClass:"card-block"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"form-control",attrs:{placeholder:"Write a comment...",rows:"3"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})]),s("div",{staticClass:"card-footer"},[s("img",{staticClass:"comment-author-img",attrs:{src:t.userImage}}),s("button",{staticClass:"btn btn-sm btn-primary"},[t._v("Post Comment")])])])},c=[],o={name:"comment-form",data:function(){return{comment:"",userImage:this.$store.state.auth.user.image}},methods:{submitComment:function(){this.$emit("onCommentSubmit",this.comment),this.comment=""}}},l=o,m=(s("2704"),s("2877")),u=Object(m["a"])(l,n,c,!1,null,"1ec3585e",null),d=u.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-block"},[s("p",{staticClass:"card-text"},[t._v(t._s(t.comment.body))])]),s("div",{staticClass:"card-footer"},[s("div",{staticClass:"comment-author-image"},[s("img",{attrs:{src:t.comment.author.image,alt:"author image",height:"100%",width:"100%"}})]),s("a",{staticClass:"comment-author"},[t._v(t._s(t.comment.author.username))]),s("span",{staticClass:"date-posted"},[t._v(t._s(t.comment.createdAt))]),t.comment.author.username===t.user?s("span",{staticClass:"mod-options"},[s("font-awesome-icon",{staticClass:"icon delete",attrs:{icon:"trash-alt"},on:{click:t.onTrashClick}})],1):t._e()])])},f=[],v={props:{comment:{type:Object,required:!0}},data:function(){return{user:this.$store.state.auth.username}},methods:{onTrashClick:function(){this.$emit("trashClick",this.comment.id)}}},g=v,p=(s("11f8"),Object(m["a"])(g,h,f,!1,null,"277092f2",null)),C=p.exports,_=s("7921"),b={data:function(){return{slug:this.$route.params.articleDesc,currentUser:this.$store.state.auth.username}},components:{HeadingBar:r["a"],CommentForm:d,CommentItem:C},computed:{isAuthenticated:function(){return this.$store.state.auth.isAuthenticated||!1},article:function(){return this.$store.state.article.selected},tags:function(){return this.article?this.article.tagList:[]},comments:function(){return this.$store.state.article.comments||[]}},created:function(){this.$store.dispatch(_["h"],this.slug),this.$store.dispatch(_["j"],this.slug)},methods:{navigateEditor:function(){this.$router.push({name:"editor_existing",params:{articleDesc:this.article.slug}})},deleteArticle:function(){var t=this;this.$store.dispatch(_["b"],this.slug).then((function(){return t.$router.push({name:"user_profile",params:{user:t.currentUser}})}))},addComment:function(t){var e=this,s={slug:this.slug,payload:{body:t}};this.$store.dispatch(_["d"],s).then((function(){e.$store.dispatch(_["j"],e.slug)}))},deleteComment:function(t){var e=this,s={slug:this.slug,commentId:t};this.$store.dispatch(_["e"],s).then((function(){e.$store.dispatch(_["j"],e.slug)}))},toggleFavorite:function(){if(this.isAuthenticated){var t=this.article.favorited?_["g"]:_["f"];this.$store.dispatch(t,this.article.slug)}else this.$router.push({name:"login"})}}},$=b,k=(s("1399"),Object(m["a"])($,a,i,!1,null,null,null));e["default"]=k.exports},"6df7":function(t,e,s){},"88b1":function(t,e,s){}}]);
//# sourceMappingURL=chunk-614237ef.09e6edcf.js.map